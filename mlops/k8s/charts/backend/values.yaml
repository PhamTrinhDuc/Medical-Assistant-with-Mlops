replicaCount: 1

image: 
  repository: duc8504/ai-agent-backend
  tag: "1.0"
  # Quy định imagePullPolicy cho Pod: "IfNotPresent" = chỉ tải image nếu trên node chưa có.
  # Tiện để tránh tải lại cùng image; nếu tag image thay đổi (vd. "latest"), node có thể vẫn dùng bản cũ.
  pullPolicy: IfNotPresent

service: 
  type: ClusterIP
  port: 8000
  nodePort: 30080          # tùy chọn (30000–32767)

resources: 
  limits: 
    cpu: 100m
    memory: 512Mi
  
  requests: 
    cpu: 100m
    memory: 256Mi

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 2

env:
  ELS_HOST: "elasticsearch"
  ELS_PORT: "9200"
  JAEGER_HOST: "jaeger"
  JAEGER_PORT: "6831"
  ENV_LOG: "production"

secrets:
  NEO4J_URI: "bolt://neo4j:7687"
  NEO4J_USER: "neo4j"
  NEO4J_PASSWORD: "bot-neo4j"
  REDIS_URL: "redis://bot-neo4j:bot-neo4j@redis:6379/0"
  OPENAI_API_KEY: "sk-proj"
  GOOGLE_API_KEY :  "AIzaSyCu"
  # GROQ_API_KEY: gsk_
  GROQ_API_KEY: "gsk_"

